<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Exploratory Data Analysis | ST4248 Project</title>
  <meta name="description" content="3 Exploratory Data Analysis | ST4248 Project" />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Exploratory Data Analysis | ST4248 Project" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="st4248-ay2223-b1/st4248-ay2223-b1.github.io" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Exploratory Data Analysis | ST4248 Project" />
  
  
  

<meta name="author" content="Chong Wan Fei, Eldora Boo, Salman Yusuf, Teo Ming Jun" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-collection-and-preprocessing.html"/>
<link rel="next" href="statistical-analysis.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#project-description"><i class="fa fa-check"></i><b>1.1</b> Project Description</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#authors"><i class="fa fa-check"></i><b>1.2</b> Authors</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#motivation"><i class="fa fa-check"></i><b>1.3</b> Motivation</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-collection-and-preprocessing.html"><a href="data-collection-and-preprocessing.html"><i class="fa fa-check"></i><b>2</b> Data Collection and Preprocessing</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-collection-and-preprocessing.html"><a href="data-collection-and-preprocessing.html#data-collection"><i class="fa fa-check"></i><b>2.1</b> Data Collection</a></li>
<li class="chapter" data-level="2.2" data-path="data-collection-and-preprocessing.html"><a href="data-collection-and-preprocessing.html#data-description"><i class="fa fa-check"></i><b>2.2</b> Data Description</a></li>
<li class="chapter" data-level="2.3" data-path="data-collection-and-preprocessing.html"><a href="data-collection-and-preprocessing.html#preprocessing"><i class="fa fa-check"></i><b>2.3</b> Preprocessing</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>3</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="3.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#distribution-of-popularity"><i class="fa fa-check"></i><b>3.1</b> Distribution of Popularity</a></li>
<li class="chapter" data-level="3.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#analysing-individual-variables"><i class="fa fa-check"></i><b>3.2</b> Analysing Individual Variables</a></li>
<li class="chapter" data-level="3.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#correlation-between-variables"><i class="fa fa-check"></i><b>3.3</b> Correlation between Variables</a></li>
<li class="chapter" data-level="3.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#principal-component-analysis"><i class="fa fa-check"></i><b>3.4</b> Principal Component Analysis</a></li>
<li class="chapter" data-level="3.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#scree-plot-biplot"><i class="fa fa-check"></i><b>3.5</b> Scree Plot &amp; Biplot</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="statistical-analysis.html"><a href="statistical-analysis.html"><i class="fa fa-check"></i><b>4</b> Statistical Analysis</a>
<ul>
<li class="chapter" data-level="4.1" data-path="statistical-analysis.html"><a href="statistical-analysis.html#model-selection"><i class="fa fa-check"></i><b>4.1</b> Model Selection</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="statistical-analysis.html"><a href="statistical-analysis.html#xgboost"><i class="fa fa-check"></i><b>4.1.1</b> XGBoost</a></li>
<li class="chapter" data-level="4.1.2" data-path="statistical-analysis.html"><a href="statistical-analysis.html#random-forest"><i class="fa fa-check"></i><b>4.1.2</b> Random Forest</a></li>
<li class="chapter" data-level="4.1.3" data-path="statistical-analysis.html"><a href="statistical-analysis.html#support-vector-machine-svm"><i class="fa fa-check"></i><b>4.1.3</b> Support Vector Machine (SVM)</a></li>
<li class="chapter" data-level="4.1.4" data-path="statistical-analysis.html"><a href="statistical-analysis.html#linear-regression"><i class="fa fa-check"></i><b>4.1.4</b> Linear Regression</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="statistical-analysis.html"><a href="statistical-analysis.html#model-evaluation"><i class="fa fa-check"></i><b>4.2</b> Model Evaluation</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="statistical-analysis.html"><a href="statistical-analysis.html#evaluation-metrics"><i class="fa fa-check"></i><b>4.2.1</b> Evaluation Metrics</a></li>
<li class="chapter" data-level="4.2.2" data-path="statistical-analysis.html"><a href="statistical-analysis.html#results"><i class="fa fa-check"></i><b>4.2.2</b> Results</a></li>
<li class="chapter" data-level="4.2.3" data-path="statistical-analysis.html"><a href="statistical-analysis.html#evaluation-of-model-performance"><i class="fa fa-check"></i><b>4.2.3</b> Evaluation of Model Performance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results-and-discussions.html"><a href="results-and-discussions.html"><i class="fa fa-check"></i><b>5</b> Results and Discussions</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results-and-discussions.html"><a href="results-and-discussions.html#conclusion"><i class="fa fa-check"></i><b>5.1</b> Conclusion</a></li>
<li class="chapter" data-level="5.2" data-path="results-and-discussions.html"><a href="results-and-discussions.html#limitations"><i class="fa fa-check"></i><b>5.2</b> Limitations</a></li>
<li class="chapter" data-level="5.3" data-path="results-and-discussions.html"><a href="results-and-discussions.html#future-work"><i class="fa fa-check"></i><b>5.3</b> Future Work</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>6</b> References</a></li>
<li class="chapter" data-level="7" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>7</b> Appendix</a>
<ul>
<li class="chapter" data-level="7.1" data-path="appendix.html"><a href="appendix.html#tuning-svm-hyperparameters"><i class="fa fa-check"></i><b>7.1</b> Tuning SVM Hyperparameters</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="appendix.html"><a href="appendix.html#without-pca"><i class="fa fa-check"></i><b>7.1.1</b> Without PCA</a></li>
<li class="chapter" data-level="7.1.2" data-path="appendix.html"><a href="appendix.html#with-pca"><i class="fa fa-check"></i><b>7.1.2</b> With PCA</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="appendix.html"><a href="appendix.html#tuning-xgboost-hyperparameters"><i class="fa fa-check"></i><b>7.2</b> Tuning XGBoost Hyperparameters</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="appendix.html"><a href="appendix.html#without-pca-1"><i class="fa fa-check"></i><b>7.2.1</b> Without PCA</a></li>
<li class="chapter" data-level="7.2.2" data-path="appendix.html"><a href="appendix.html#with-pca-1"><i class="fa fa-check"></i><b>7.2.2</b> With PCA</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="appendix.html"><a href="appendix.html#tuning-random-forest-hyperparameters"><i class="fa fa-check"></i><b>7.3</b> Tuning Random Forest Hyperparameters</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="appendix.html"><a href="appendix.html#without-pca-2"><i class="fa fa-check"></i><b>7.3.1</b> Without PCA</a></li>
<li class="chapter" data-level="7.3.2" data-path="appendix.html"><a href="appendix.html#with-pca-2"><i class="fa fa-check"></i><b>7.3.2</b> With PCA</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">ST4248 Project</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exploratory-data-analysis" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">3</span> Exploratory Data Analysis<a href="exploratory-data-analysis.html#exploratory-data-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="distribution-of-popularity" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Distribution of Popularity<a href="exploratory-data-analysis.html#distribution-of-popularity" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>With popularity set as the response variable, we first did an analysis of the distribution of songs popularity using a density histogram (Fig.1). We discovered 2 findings. Firstly, there were many songs with 0 popularity, but we decided to leave this data in as songs on Spotify. Secondly, the majority of the songs have a popularity score of around 27.</p>
<div class="figure">
<img src="fig1.png" alt="" />
<p class="caption">Fig.1 Density Histogram for Song Popularity</p>
</div>
</div>
<div id="analysing-individual-variables" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Analysing Individual Variables<a href="exploratory-data-analysis.html#analysing-individual-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Our group then subset the data to a size of 500 and analysed the individual variables using scatterplots to determine each feature’s relationship to the response variable.</p>
<p><img src="fig2-1.png" alt="Fig.2.1 Density Histogram for Song Popularity" />
<img src="fig2-2.png" alt="Fig.2.2 Density Histogram for Song Popularity" /></p>
<p>Based on the scatterplots (Fig.2), no one feature has a particularly strong relationship with the response variable popularity. Next, we computed the correlation matrix and the plot below to find out if any collinearity existed within our variables.</p>
</div>
<div id="correlation-between-variables" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Correlation between Variables<a href="exploratory-data-analysis.html#correlation-between-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="figure">
<img src="fig3.png" alt="" />
<p class="caption">Fig.3 Correlation Plot of Features</p>
</div>
<p>Based on the correlation plot (Fig. 3), we observe a strong positive correlation between loudness and energy, and a strong negative correlation between energy and acousticness. As high correlations between variables might cause multicollinearity issues in model training, model coefficients and predictions might be unstable and unreliable. To correct this, we considered either removing the highly correlated variable ‘energy’ or using Principal Component Analysis(PCA) to reduce the dimensions.</p>
</div>
<div id="principal-component-analysis" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Principal Component Analysis<a href="exploratory-data-analysis.html#principal-component-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We will first test the effectiveness of PCA in potentially reducing the multicollinearity issues caused by the strong correlation of energy with loudness and acousticness.</p>
<pre><code>Importance of components:
                          Comp.1    Comp.2     Comp.3     Comp.4     Comp.5     Comp.6
Standard deviation     0.7620286 0.3974208 0.31943590 0.30413488 0.28730213 0.25459238
Proportion of Variance 0.4379141 0.1191098 0.07695092 0.06975556 0.06224781 0.04888067
Cumulative Proportion  0.4379141 0.5570239 0.63397482 0.70373038 0.76597819 0.81485887
                           Comp.7     Comp.8     Comp.9    Comp.10    Comp.11    Comp.12
Standard deviation     0.23484885 0.22490549 0.21052239 0.18230677 0.17847051 0.14007512
Proportion of Variance 0.04159329 0.03814578 0.03342281 0.02506409 0.02402035 0.01479682
Cumulative Proportion  0.85645215 0.89459793 0.92802074 0.95308483 0.97710518 0.99190200
                           Comp.13     Comp.14 Comp.15
Standard deviation     0.096798034 0.036991076       0
Proportion of Variance 0.007066095 0.001031906       0
Cumulative Proportion  0.998968094 1.000000000       1</code></pre>
<p>Fig.4 PCA Summary of the Principal Components</p>
<p>Based on the results above, our group will keep the first 4 principal components as they have a combined PVE of 0.7037, explaining 70.37% of the variation in the data.</p>
<pre><code>                        Comp.1       Comp.2      Comp.3       Comp.4
popularity        0.2807122474  0.120741821  0.34103473  0.181082797
duration_ms      -0.0441102007  0.433634729  0.12788669  0.068585718
explicit          0.1087047540 -0.053557279  0.46517845  0.281144604
danceability      0.2613818075 -0.470916412 -0.12540174  0.294717193
energy            0.4768670383  0.122163823 -0.01125416 -0.201929052
key              -0.0004522316  0.031938157  0.10651933  0.277386425
loudness          0.4580341957  0.130758924 -0.01863841 -0.114674407
mode             -0.0797739807 -0.007312394 -0.27290627 -0.285513974
speechiness      -0.0725811413 -0.500968786  0.36784061 -0.188109095
acousticness     -0.4554930024 -0.162556111 -0.10043949  0.067620414
instrumentalness -0.2788563488  0.229794425 -0.16977721  0.114886116
liveness         -0.0309802578 -0.066169153  0.29424957 -0.636323987
valence           0.2544327682 -0.385915244 -0.43360044 -0.002626815
tempo             0.1406550961  0.207057502 -0.23742683 -0.247221834
time_signature    0.1399061679  0.115216486 -0.20914760  0.255004635</code></pre>
<p>Fig.5 Loading Matrix of the First 4 Principal Components</p>
<p>From the figure above, our group analysed the contribution of each original variable to each principal component, with higher loadings indicating a stronger relationship. The loading matrix can help identify which variables are most important in explaining the variation in the data, and how they are related to each other.</p>
<ul>
<li><p>1st Principal Component: Mainly influenced by popularity, loudness, energy, and danceability, with positive loadings for these variables. This suggests that these attributes are strongly correlated with each other, and that songs that are popular and have high energy and danceability tend to be loud.</p></li>
<li><p>2nd Principal Component: Mainly influenced by duration_ms and instrumentalness, with positive loadings for these variables. This suggests that songs with longer duration and higher instrumentalness tend to be grouped together.</p></li>
<li><p>3rd Principal Component: Mainly influenced by explicitness, speechiness, and valence, with positive loadings for explicitness and speechiness, and negative loadings for valence. This suggests that songs with explicit language and high levels of speech are associated with lower valence (i.e. less positive emotional expression).</p></li>
<li><p>4th Principal Component: Mainly influenced by liveness and key, with positive loadings for liveness and key. This suggests that songs in certain keys and with high levels of audience participation (i.e. liveness) tend to be grouped together.</p></li>
</ul>
</div>
<div id="scree-plot-biplot" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> Scree Plot &amp; Biplot<a href="exploratory-data-analysis.html#scree-plot-biplot" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><img src="fig6.png" alt="Fig.6 Scree Plot of Components" />
<img src="fig7.png" alt="Fig.7 Biplot of Features" /></p>
<p>Further analysis done from the scree plot (Fig.6) agrees that 4 principal components best explain the variance in the data, and that energy has a strong positive correlation with loudness, as well as a strong negative correlation with acousticness(Fig.7).</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-collection-and-preprocessing.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="statistical-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
},
"info": true
});
});
</script>

</body>

</html>
